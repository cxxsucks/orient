# orient

[English](./README_en.md)

å¯ä»¥åœ¨Linux, macOSä¸Windowsä¸Šè¿è¡Œçš„æ–‡ä»¶æ£€ç´¢å·¥å…·ï¼Œå«æœ‰`find`, `locate`
ä»¥åŠ`Everything`çš„å„ç§åŠŸèƒ½ï¼Œå¤–åŠ å†…å®¹æŸ¥æ‰¾ã€‚

## å†™åœ¨å‰é¢

å€’æ’ç´¢å¼•æ˜¯ `plocate` èƒŒåçš„æŠ€æœ¯ï¼Œå¯ä»¥åœ¨è¿‘ä¹æ’å®šçš„æ—¶é—´å†…å®Œæˆæœç´¢ï¼Œ
**åœ¨ `orient v0.4.0` åŠæ›´é«˜ç‰ˆæœ¬ä¸­å®ç°**ã€‚  
ä¸å¹¸çš„æ˜¯ï¼Œ`v0.4` æ²¡æœ‰ç»è¿‡å¾ˆå¥½çš„æµ‹è¯•ï¼Œ
ç›®å‰å‘å¸ƒçš„ç‰ˆæœ¬æ˜¯ `v0.3.x`ã€‚ æ­¤å¤–ï¼Œè‡ªè¿°æ–‡ä»¶ä¸­çš„æ‰€æœ‰æ¼”ç¤ºéƒ½æ˜¯åœ¨ v0.3.0 ä¸Šå®Œæˆçš„ã€‚  
å¯¹äºé€šå¸¸åªæœ‰å°äºä¸‰ç™¾ä¸‡ä¸ªæ–‡ä»¶çš„ä¸ªäººè®¡ç®—æœºï¼Œæœ‰æ²¡æœ‰å€’æ’ç´¢å¼•å¹¶ä¸ä¼šé€ æˆå¤ªå¤§çš„åŒºåˆ«ã€‚

*æ–‡ä»¶å†…å®¹æœªç¼–å…¥ç´¢å¼•ã€‚*ä½†å½“æ­¤ä»“åº“è¾¾åˆ° 512 é¢—æ˜Ÿåï¼Œå°†ç€æ‰‹å¼€å‘æ–‡ä»¶å†…å®¹ç´¢å¼•ã€‚
å¦‚æœæ‚¨è§‰å¾—è¯¥é¡¹ç›®æœ‰ç”¨æˆ–æ˜¯æœ‰è¶£ï¼Œè¯·ç‚¹ä¸ªstarå§ï¼  
ï¼ˆæœ‰å…³æ­¤å†…å®¹çš„æ›´å¤šä¿¡æ¯è¯¦è§[æ­¤å¤„](docs/TODO.md)ã€‚ï¼‰

æœ¬è‡ªè¿°æ–‡ä»¶æ˜¯å…³äº CLI åº”ç”¨ç¨‹åºçš„ã€‚ å¯¹äº GUI å‰ç«¯ï¼Œè¯·å‚è§
[SearchEverywhere](https://github.com/cxxsucks/SearchEverywhere).
(ä¹ŸæŒºä¸ç¨³å®šçš„)

## ç‹¬ç‰¹çš„åŠŸèƒ½

### è½»é‡çº§

å”¯ä¸€çš„è¿è¡Œæ—¶ä¾èµ–é¡¹æ˜¯ PCRE2ï¼Œé™æ€çš„å¯æ‰§è¡Œæ–‡ä»¶å¤§å°ä»…ä¸º 2.5MiBï¼ˆstrippedï¼‰ã€‚

### Linuxã€macOS å’Œ **Windows**

macOS å’Œ Windows ä¸Šçš„ç¬¬ä¸€ä¸ªè‡ªç”±è½¯ä»¶æ–‡ä»¶ç´¢å¼•å™¨ï¼ğŸ˜œ

- å¿½ç•¥æ¬ºéª— `find` çš„ macOS firmlink, ä¾‹å¦‚ `/System/Volumes/Data`
- åœ¨ Windows ä¸Šä½¿ç”¨åŸç”Ÿ UTF-16ï¼Œé€šè¿‡æ¨¡æ¿å¯¹ä»£ç è¿›è¡Œæœ€å°‘çš„ä¿®æ”¹ï¼Œå®ç°æ€§èƒ½å’Œç®€æ´æ€§
- åƒå¤„ç† Unix ç›®å½•ä¸€æ ·å¤„ç† Windows é©±åŠ¨å™¨ï¼ˆå½“ç„¶ï¼Œâ€œ\\â€æ˜¯åˆ†éš”ç¬¦ï¼‰

åˆ†åˆ«åœ¨ macOS å’Œ Windows ä¸Šçš„æˆªå›¾ï¼š
![orie_mac](docs/md_pics/orie_mac.png)  
![orie_win](docs/md_pics/orie_win.png)  

### æ— éœ€ç®¡ç†å‘˜æƒé™çš„å¤šçº¿ç¨‹(ä»…éæœºæ¢°ç¡¬ç›˜)ç´¢å¼•æ›´æ–°

ä¸ `locate` ä¸åŒï¼Œé‡å»ºæ–‡ä»¶ç³»ç»Ÿç´¢å¼•**ä¸**éœ€è¦root æƒé™ï¼ˆæˆ– Windows ä¸Šçš„ç®¡ç†å‘˜ï¼‰ã€‚
ä¹Ÿæ²¡æœ‰setugidã€‚  
å¯¹äºSSDï¼Œè®¾ç½®çº¿ç¨‹æ± ç”¨äºå¹¶å‘ç›®å½•è¯»å–ï¼Œå¤§å¤§åŠ å¿«è¯»å–é€Ÿåº¦ã€‚  
å¯¹äºHDDï¼Œåº”ç¦ç”¨æ­¤åŠŸèƒ½ï¼Œå› ä¸ºå¤šçº¿ç¨‹ IO ç”±äºå…¶æ—‹è½¬ç‰¹æ€§è€Œä¸ä¼šæä¾›æ˜æ˜¾çš„æ€§èƒ½æå‡ã€‚  
å¯ä»¥å¯¹è·¯å¾„åˆ‡æ¢æ˜¯å¦å¯ç”¨å¤šçº¿ç¨‹ã€‚

å›¾ä¸­æ˜¾ç¤º `orient` å¯ä»¥åœ¨ 1 ç§’å†…æ‰«æ 810000 ä¸ªæ–‡ä»¶ï¼Œ*è™½ç„¶å·²ç»æ¸…ç†äº†é¡µé¢ç¼“å­˜*ï¼Œ
ä½†ä½¿ç”¨çš„ç£ç›˜æ˜¯ç›¸å½“é«˜ç«¯çš„ï¼Œå› æ­¤ä¸è¦å¤ªå½“çœŸã€‚
![updatedb](docs/md_pics/updatedb.png)  

### å¿«é€Ÿæ¨¡ç³Šå’Œå†…å®¹åŒ¹é…

ä¸`updatedb`ä¸€æ ·ï¼ŒåŒæ ·çš„çº¿ç¨‹æ± ä¹Ÿç”¨äºå†…å®¹åŒ¹é…ã€‚
ä» 75000 ä¸ªæ–‡ä»¶çš„ Linux å†…æ ¸æºä»£ç æ ‘ä¸­æ¨¡ç³ŠåŒ¹é…â€œhello worldâ€åœ¨ç¼“å­˜åˆ é™¤æ—¶èŠ±è´¹äº†
5.5 ç§’ï¼Œåœ¨ä½¿ç”¨ç¼“å­˜æ—¶èŠ±è´¹äº† 1.5 ç§’ã€‚
![contentMatch](docs/md_pics/content_match.png)  
ï¼ˆæœŸæœ›åˆ«é‚£ä¹ˆé«˜ï¼›ä½¿ç”¨è®¾å¤‡æ˜¯16x Intel i7 11800H å’Œ NVMe SSDï¼‰
> åœ¨ Windows ä¸Šï¼Œå†…å®¹åŒ¹é…**æ˜æ˜¾è¾ƒæ…¢**ï¼Œè¿™æ˜¯ç”± UTF8 åˆ° UTF16 è½¬æ¢
> ç¼ºä¹æœ‰æ•ˆçš„å†…æ ¸å†…å­˜æ˜ å°„ (`mmap(2)`) ä»¥åŠ Windows è‡ƒè‚¿ã€ä½æ•ˆçš„ç»¼åˆå½±å“ã€‚

~~Goodbye `find ... | xargs grep ...` and `find ... -a -exec grep ...`~~

### ç±»ä¼¼ `find` çš„è¯­æ³•

å¦‚ä¸‹æ‰€ç¤ºï¼Œ`orient` è¿˜å®ç°äº† **å¤§éƒ¨åˆ†** `find` çš„
åŒ¹é…ï¼Œè®©ç”¨æˆ·æ›´å®¹æ˜“ç†Ÿæ‚‰ä½¿ç”¨`find`çš„ç°æœ‰ç»éªŒï¼ŒåŒæ—¶ä¹Ÿå¢åŠ äº†åº”ç”¨ç¨‹åºçš„å¤šåŠŸèƒ½æ€§ã€‚
![æŸ¥æ‰¾](docs/md_pics/find.png)

### åŒ¹é…çˆ¶ç›®å½•æˆ–å­æ–‡ä»¶

ä¸åƒ `Everything` ç¡¬ç¼–ç çˆ¶åŒ¹é…åªåŒ¹é…å­—ç¬¦ä¸²ï¼Œ
åœ¨ `orient` ä¸­ï¼Œ`-updir -downdir` å¯ä»¥åº”ç”¨äºä»»ä½•è°“è¯ã€‚

æ­¤å¤–ï¼Œ`-downdir` çš„å¼€é”€å‡ ä¹ä¸º 0ï¼Œè€Œ `-updir` é€šè¿‡ç¼“å­˜æœ€è¿‘çš„åŒ¹é…é¡¹ä½¿æœç´¢**æ›´å¿«**ã€‚
åŒ¹é…çˆ¶ç›®å½•ï¼š
![updir](docs/md_pics/updir.png)  
åŒ¹é…å­æ–‡ä»¶ï¼š
![downdir](docs/md_pics/downdir.png)

## æ¯”è¾ƒ

|              | Linux | Windows | macOS | Android |   License   |
|:------------:|:-----:|:-------:|:-----:|:-------:|:-----------:|
| `Everything` | ğŸ‘NO  |  ğŸ‘YES  | ğŸ‘NO  |  ğŸ‘NO   | Proprietary |
|    `find`    | ğŸ‘YES |  ğŸ‘NO   | ğŸ‘NO  |  ğŸ‘NO   |    GPLv3    |
|  `fsearch`   | ğŸ‘YES |  ğŸ‘NO   | ğŸ‘NO  |  ğŸ‘NO   |    GPLv2    |
|   `locate`   | ğŸ‘YES |  ğŸ‘NO   | ğŸ‘NO  |  ğŸ‘NO   |    GPLv3    |
|   `orient`   | ğŸ‘YES |  ğŸ‘YES  | ğŸ‘YES |  ğŸ‘NO   |    GPLv3    |

Continued Table  
|              | `-and -or` | Invert Index | Match Parent |  GUI  |  CLI  |
|:------------:|:----------:|:------------:|:------------:|:-----:|:-----:|
| `Everything` |   ğŸ‘YES    |     ğŸ‘NO     |   Partial    | ğŸ‘YES |  ğŸ˜•   |
|    `find`    |   ğŸ‘YES    |     ğŸ‘NO     |     ğŸ‘NO     | ğŸ‘NO  | ğŸ‘YES |
|  `fsearch`   |   ğŸ‘YES    |     ğŸ‘NO     |   Partial    | ğŸ‘YES | ğŸ‘NO  |
|   `locate`   |   ğŸ‘NO     |     ğŸ‘YES    |     ğŸ‘NO     | ğŸ‘NO  | ğŸ‘YES |
|   `orient`   |   ğŸ‘YES    |     ğŸ‘YES    |     ğŸ‘YES    | ğŸ‘YES | ğŸ‘YES |

æ³¨æ„ï¼š

- *éƒ¨åˆ†*åŒ¹é…çˆ¶é¡¹å’Œå­é¡¹æ„å‘³ç€è™½ç„¶å®ƒä»¬ç¡®å®æä¾›äº†åŒ¹é…æ–‡ä»¶çš„çˆ¶é¡¹æˆ–ç›®å½•çš„å­é¡¹çš„é€‰é¡¹ï¼Œ
    ä½†æ­¤ç±»æœç´¢ä»…é™äºå­—ç¬¦ä¸²åŒ¹é…è€Œä¸æ˜¯åº”ç”¨ç¨‹åºçš„æ‰€æœ‰åŠŸèƒ½ã€‚
- `Everything` CLI ä¼¼ä¹å¯¹æ‰€æœ‰ç»“æœéƒ½è¿›è¡Œäº†*ç¾åŒ–*ï¼Œä½¿å…¶å¾ˆéš¾ä¸å…¶ä»–å·¥å…·ç»“åˆä½¿ç”¨ï¼Œ
    å› æ­¤é‚£é‡Œæ”¾äº†ä¸ªç–‘æƒ‘çš„è¡¨æƒ…ã€‚
- `Everything`æ˜¯ä¸“æœ‰çš„ï¼Œåªæœ‰SDKï¼æˆ‘ä»¬äº²çˆ±çš„é¢†å¯¼äººç†æŸ¥å¾·Â·æ–¯æ‰˜æ›¼ä¼šæŠŠå®ƒç ¸å¾—ç¨€å·´çƒ‚ï¼(æ‰‹åŠ¨ç‹—å¤´)
    > æ›´ç³Ÿç³•çš„æ˜¯ï¼Œ`Everything SDK` å……æ»¡äº†å…¨å±€çŠ¶æ€ã€‚ğŸ¤®

## å¿«é€Ÿå…¥é—¨

### ä½¿ç”¨ç±»ä¼¼ `find` çš„è¯­æ³•

ç†Ÿæ‚‰ `find` çš„ç”¨æˆ·å¯ä»¥ä½¿ç”¨ `orient` çš„ `find` å…¼å®¹è¯­æ³•å¿«é€Ÿä¸Šæ‰‹ï¼Œ
å¦‚`-regex`ã€`-lname`ã€`-okdir`ç­‰ã€‚  
è¯·æ³¨æ„ï¼Œ`orient` è°“è¯æœ‰æ—¶æ˜¯å…¶å¯¹åº”çš„ `find` çš„è¶…é›†ï¼Œä¾‹å¦‚ `-quit`
å¯é€‰åœ°æ¥å—ä¸€ä¸ªæ•´æ•°å‚æ•°ï¼Œè¿™æ„å‘³ç€åœ¨é€€å‡ºä¹‹å‰å¯ä»¥äº§ç”Ÿå¤šå°‘ç»“æœã€‚ å®ƒçš„é»˜è®¤å€¼ä¸º 1ï¼Œ
å› æ­¤å½“ä½¿ç”¨ä¸å¸¦å‚æ•°çš„ `-quit` æ—¶ï¼Œå®ƒä¸ä½¿ç”¨ `find` æ—¶æ²¡æœ‰åŒºåˆ«ã€‚

å¯¹äºç‰¹å®šäº `orient` çš„è°“è¯ï¼Œä»…æä¾› `orient` é£æ ¼çš„è¯­æ³•ï¼Œè§ä¸‹æ–‡ã€‚

```sh
# mp3 or mp4 file excluding under hidden dirs
find ~ \( -name ".*" -a -prune -a -false \) -o -name "*.mp[34]"
orient ~ \( -name ".*" -a -prune -a -false \) -o -name "*.mp[34]"

# Ask user to whether to show its realpath when a symlink found in /usr
# until user inputs "yes" (realpath executes)
find /usr -type l -a -okdir realpath \{\} \; -a -quit
orient /usr -type l -a -okdir realpath \{\} \; -a -quit
# Until 2 user inputs "yes"
orient /usr -type l -a -okdir realpath \{\} \; -a -quit 2
# Even better, -quitmod
orient /usr -quitmod \( -type l -a -okdir realpath \{\} \; \)
# -quit -quitmod has some quirks; see docs/predicates.md
```

## ä½¿ç”¨ `orient` çš„æ›¿ä»£è¯­æ³•

`orient` æ²¡æœ‰ `find` é‚£æ ·å¤šçš„ï¼ˆç‹¬ç‰¹çš„ï¼‰è°“è¯ã€‚ ç›¸åï¼Œ`orient` ä½¿ç”¨
`-PRED --ARG` è¯­æ³•ï¼Œä¸ºå•ä¸ªè°“è¯æä¾›å¤šç§åŒ¹é…æ–¹æ¡ˆï¼Œä»è€Œæé«˜ä»£ç çš„å¯é‡ç”¨æ€§ã€‚

- è·¯å¾„åŒ¹é…è°“è¯ï¼š`-name` `-bregex` `-strstr` `-fuzz`
     å‚æ•°ï¼š`--ignore-case`ï¼ˆ`-fuzz` é™¤å¤–ï¼‰`--full` `--readlink`
- å†…å®¹åŒ¹é…è°“è¯ï¼š`-content-{strstr,fuzz,regex}`
     å‚æ•°ï¼š`--ignore-case`ï¼ˆ`-fuzz` é™¤å¤–ï¼‰`--blocked` `--allow-binary`
- æ–‡ä»¶ç»Ÿè®¡è°“è¯ï¼š`-size` `-{a,m,c}{time,min}` `-inum`
     å‚æ•°ï¼šæ–‡ä»¶åæˆ–ä»¥â€œ+â€æˆ–â€œ-â€ä¸ºå‰ç¼€çš„æ•´æ•°
- ä»¥åŠæ›´å¤š...

è®¸å¤š `find` å…¼å®¹è°“è¯å®é™…ä¸Šæ˜¯åˆ«åï¼Œä¾‹å¦‚ `-lname` ä¸ `-name --readlink` ç›¸åŒï¼Œ  
`-regex` ä¸ `-bregex --ignore-case` ç›¸åŒï¼ˆ`b` ä»£è¡¨åŸºæœ¬åç§°ï¼‰
`-samefile` å°±æ˜¯ `-inode` çš„ä»£ç§°ï¼Œå› ä¸º `-inode` ä¹Ÿæ¥å—æ–‡ä»¶å
> ä¹Ÿå¯ä»¥å°†ä¸¤ç§è¯­æ³•æ··åˆåœ¨ä¸€èµ·ï¼Œä½†ä¸æ¨èï¼Œä¾‹å¦‚ `-iname --full` æˆ– `-anewer +5`

```sh
# Find C source files containing "hello"; orient style only
orient / -content-strstr hello -name "*.c"

# Many `find` style predicates are actually aliases, ex:
orient / -iname "*.cpp" # find style
orient / -name --ignore-case "*.cpp" # orient style

# Assuming /home/a/b links to /var/tmp, then
# all the following 3 lines matches /home/a/b
# `-lname` is identical to `-name --readlink`  
orient / -lname "*tmp"
orient / -name --readlink "*tmp"
# `orient` style is more versatile:
orient / -bregex --readlink 'tmp$' # No `find` style alternative
```

### ä¿®é¥°ç¬¦

é€šè¿‡å¼•å…¥ä¿®é¥°è°“è¯ï¼Œå¯ä»¥åœ¨ä¼ æ’­åˆ°å…¶ä»–è°“è¯ä¹‹å‰â€œåšæŸäº‹â€ï¼Œè¿™æ­£æ˜¯ `-updir` å’Œ `-downdir`
æ‰€åšçš„ï¼šå®ƒä»¬åŒ¹é…æ–‡ä»¶çš„çˆ¶ç›®å½•å’Œç›®å½•çš„å­æ–‡ä»¶ã€‚  
ä½¿ç”¨ä¿®é¥°ç¬¦ï¼Œ`-updir -downdir` å¯ä»¥åº”ç”¨äº `orient` ä¸­çš„ä»»ä½•è°“è¯ï¼Œ
è¿™ä¸ `Everything` ä¸åŒï¼Œåè€…å°†çˆ¶åŒ¹é…ç¡¬ç¼–ç ä¸ºä»…å­—ç¬¦ä¸²åŒ¹é…ã€‚  
*ä»»ä½•* è°“è¯åŒ…æ‹¬é€’å½’ä½¿ç”¨ `-updir -downdir` æœ¬èº«ã€‚

æ­¤å¤–ï¼Œ`-downdir` çš„å¼€é”€å‡ ä¹ä¸º 0ï¼Œè€Œ `-updir` é€šè¿‡ç¼“å­˜æœ€è¿‘çš„åŒ¹é…é¡¹ä½¿æœç´¢**æ›´å¿«**ã€‚

å…¶ä»–çš„ä¿®é¥°ç¬¦åŒ…æ‹¬`-prunemod`ã€`-quitmod`å’Œ`-not`ã€‚ ä¾‹å¦‚ï¼š

```sh
# Find bin/gcc*
orient / -updir -name "gcc*" -a -executable
# Find bin/gcc* or bin/clang*
orient / -updir \( -name "gcc*" -o -name "clang*" \) -a -executable

# Find git repositories, first level only
orient / -downdir \( -name .git -a -type d \) -a -prune
# Must use -exec test on find and is extremely slow
find .. -type d -a -exec test -d '{}/.git' \; -a -print -a -prune

# .cc files under src directory of a git repository
orient / -updir \( -name src -a -updir -downdir -name .git \) -name "*.cc"
```

## å®‰è£…

ç”±äºè¯¥åº”ç”¨ç¨‹åºæ˜¯å‘½ä»¤è¡Œç•Œé¢ï¼Œåªéœ€è·å–ç³»ç»Ÿçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå®ƒå°±åº”è¯¥å¯ä»¥è¿è¡Œã€‚
> åœ¨ Linux ä¸Šï¼Œ`-user -nouser -group -nogroup` éœ€è¦ glibc æ‰èƒ½å·¥ä½œã€‚

ä¸å¹¸çš„æ˜¯ï¼ŒmacOS ARM ç‰ˆæœ¬ç¼ºå¤±ï¼Œå› ä¸ºè‹¹æœæœºå¤ªè´µäº†ğŸ«¥ã€‚è¯·åœ¨Issueæˆ–Discussion
ä¸­æŠ¥å‘Šåœ¨è¯¥æœºå™¨ä¸Šæ˜¯å¦å¯ç”¨ã€‚
> ç›®å‰æµ‹è¯•å¤ªå°‘ï¼Œä¸æ˜¯å¾ˆé€‚åˆå‘å¸ƒåˆ°å‘è¡Œç‰ˆã€‚  
> å¯èƒ½é¦–å…ˆå‘å¸ƒåˆ° Arch AUR btw, é¡ºä¾¿è¯´ä¸€ä¸‹ã€‚

### ä»æºä»£ç æ„å»º

ç°åœ¨ä»åœ¨å‘å¸ƒçš„æ—©æœŸé˜¶æ®µï¼Œå»ºè®®ä»æºä»£ç æ„å»ºã€‚(`v0.4.0`æš‚æ—¶å¿…é¡»æºç ç¼–è¯‘)  
ä¹Ÿå¯ä»¥ç›´æ¥ç¼–è¯‘ï¼ˆæ›´ä¸ç¨³å®šçš„ï¼‰GUI
[SearchEverywhere](https://github.com/cxxsucks/SearchEverywhere)ï¼Œ
ç¼–è¯‘GUIçš„æ—¶å€™`orient` CLIä¹Ÿè¢«é¡ºå¸¦ç€ç¼–è¯‘äº†ã€‚  
æ„å»ºæ‰€éœ€ä¾èµ–ï¼š

- CMake
- PCRE2
- rapidfuzz
- GoogleTest (Test Only)

é™¤äº† `CMake` æœ¬èº«ä¹‹å¤–ï¼Œæ‰€æœ‰ä¾èµ–é¡¹éƒ½å¯ä»¥ç”± CMake è‡ªåŠ¨ä¸‹è½½ã€‚
å¦‚æœæ‚¨å·²ç»åœ¨ç³»ç»Ÿä¸Šå®‰è£…äº†å…¶ä¸­ä¸€éƒ¨åˆ†ï¼Œé€šè¿‡åˆ‡æ¢ä¸‹é¢çš„è¿™äº›é…ç½®é€‰é¡¹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å·²å®‰è£…çš„ã€‚

é…ç½®é€‰é¡¹ï¼š

- `ORIE_TEST`ï¼šæ„å»º GoogleTest æµ‹è¯•å¥—ä»¶
- `ORIE_SYSTEM_PCRE2`ï¼šä½¿ç”¨ç³»ç»Ÿ PCRE2 åº“è€Œä¸æ˜¯ç¼–è¯‘æ–°åº“ã€‚
- `ORIE_LINK_STATIC`ï¼šé™æ€é“¾æ¥ orient å¯æ‰§è¡Œæ–‡ä»¶
- `ORIE_SYSTEM_RAPIDFUZZ`ï¼šä½¿ç”¨ç³»ç»Ÿ rapidfuzz åº“ï¼ˆä»…æ ‡å¤´ï¼‰

å°†ä¸‹é¢çš„ `OPTION` æ›¿æ¢ä¸ºæ‚¨å¯ç”¨çš„é€‰é¡¹ï¼Œç„¶åè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```sh
git clone https://github.com/cxxsucks/orient.git
cd orient; mkdir build; cd build
cmake -DOPTION1=ON -DOPTION2=ON -DCMAKE_BUILD_TYPE=Release ..
make -j$(nproc)
sudo make install
```

## æ³¨æ„äº‹é¡¹

### é»˜è®¤å¤šçº¿ç¨‹è¯»å–

é»˜è®¤é…ç½®ç¡¬ç¼–ç äº†å‡ ä¸ªæ‰«æï¼Œå¹¶åœ¨æ‰€æœ‰èµ·ç‚¹ä¸Šå¯ç”¨å¤šçº¿ç¨‹è¯»å–ï¼Œè¿™å¯¹äºæœºæ¢°ç¡¬ç›˜æ¥è¯´ä¸æ˜¯æœ€ä½³é€‰æ‹©ã€‚
å¦‚æœæ‚¨ç¢°å·§ä½¿ç”¨ HDDï¼Œè¯·åœ¨ç¬¬ä¸€æ¬¡è¿è¡Œ `orient` æ—¶æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

1. è¿è¡Œ `orient -updatedb`
2. ç«‹å³ç”¨ `Ctrl-C` æ‰“æ–­
3. æ‰“å¼€ `~/.config/orie/default.txt` æˆ– `%APPDATA%\.orie\default.txt`
4. æŸ¥çœ‹ `ROOT` ä¹‹åçš„è·¯å¾„ï¼Œå¦‚æœè¿™äº›è·¯å¾„ä¸­çš„ä»»ä½•ä¸€æ¡å®é™…ä¸Šä¸åœ¨ SSD ä¸Šï¼Œåˆ™åˆ é™¤ `SSD` å­—æ®µã€‚
5. å¦‚æœæœ‰ä»»ä½•æœªåˆ—å‡ºçš„ç¡¬ç›˜æ ¹è·¯å¾„ï¼Œè¯·å†™å…¥ `ROOT "/path/to/mountpoint"` æˆ–ç›´æ¥ç”¨
    `IGNORED "/path/to/mountpoint"` ä¸å¯¹å…¶è¿›è¡Œç´¢å¼•ã€‚

åœ¨ Linux ä¸Šï¼Œ`/sys/block/sda/queue/rotational` èƒ½å¤Ÿåˆ¤æ–­æŸä¸ªç¡¬ç›˜æ˜¯å¦æ˜¯æœºæ¢°å¼çš„ï¼Œ
ä¸å¹¸ï¼ˆä½†æ„æ–™ä¹‹ä¸­ï¼‰çš„æ˜¯macOS å’Œ Windows æ²¡æœ‰ã€‚  
åœ¨æœªæ¥çš„ç‰ˆæœ¬ä¸­ï¼Œå°†ä» `/etc/mtab` å’Œ `/sys/.../rotational` è·å–æŒ‚è½½ç‚¹ï¼Œ
å®ƒä»¬å°†è¢«ç”¨æ¥åœ¨ Linux å’Œ macOS ä¸Šè‡ªåŠ¨é…ç½®æ ¹è·¯å¾„ã€‚  
> è‹¹æœçœŸé…·ï¼ ä»–ä»¬ä¸€å®šä¼šä¸ºä»–ä»¬çš„ MacBook é…å¤‡ä¸–ç•Œä¸Šæœ€å¥½çš„ç¡¬ç›˜ï¼Œ
> è¿™äº›ç¡¬ç›˜ç»å¯¹ä¸å¯èƒ½æ˜¯æœºæ¢°çš„ï¼

### æœªæµ‹è¯•çš„åŠŸèƒ½

`exec` ç³»åˆ—è°“è¯å·²åœ¨ Windows ä¸Šå®ç°ï¼Œä½†æœªç»æµ‹è¯•ã€‚
ç¨æœ‰è½¯ä»¶å¼€å‘å¸¸è¯†çš„äººéƒ½å¯ä»¥çœ‹å‡ºï¼Œè¿™ä¸ªæœªç»æµ‹è¯•çš„åŠŸèƒ½å³ä½¿ä¸ä¼šæŠŠç¨‹åºæå´©ï¼Œ
ä¹Ÿè‚¯å®šä¼šé”™å¾—ç¦»è°±ã€‚  
é™¤äº†`exec`ä¹‹å¤–ï¼Œå…¶ä»–æœªæµ‹è¯•çš„åŠŸèƒ½åŠå…¶åŸå› éƒ½èƒ½åœ¨
[TODO åˆ—è¡¨](docs/TODO.md) ä¸­æ‰¾åˆ°ã€‚

### **æœªå®ç°**çš„`find`é‡Œçš„åŠŸèƒ½

ä¸»è¦æ˜¯å…¨å±€é€‰é¡¹ï¼š

- `-context`ï¼ˆSELinux ä¸Šä¸‹æ–‡ï¼‰
- `-printf -fprintf -ls -fls`ï¼ˆæ ¼å¼æ‰“å°ï¼‰
-`-newerXY`
-`-mindepth``-maxdepth`
- `-H -L -P`ï¼ˆæ˜¯å¦è·Ÿéšç¬¦å·é“¾æ¥ï¼‰
-`-D`ï¼ˆè°ƒè¯•é€‰é¡¹ï¼‰
- `-O`ï¼ˆä¼˜åŒ–çº§åˆ«ï¼‰
     > `orient` æœ‰è‡ªå·±çš„ä¼˜åŒ–å™¨ï¼Œç±»ä¼¼äº `find -O3`
- `-regextype`ï¼ˆç¡¬ç¼–ç  PCRE2ï¼‰
-`-è­¦å‘Š-nowarn`
- `-d -depth`ï¼ˆæ·±åº¦ä¼˜å…ˆæœç´¢ï¼‰
     > `orient`åªèƒ½æ ¹æ®ç´¢å¼•æœç´¢ã€‚
     > ä¸ `find` ä¸åŒï¼Œ`-delete` ä¸å—å½±å“ã€‚
-`-files0-from`
- `-mount -xdev -xautofs`ï¼ˆä¸è¦è¿›å…¥æŒ‚è½½ç‚¹ï¼‰
- `-help -version`

## æœªæ¥å·¥ä½œ

æ–‡æ¡£å°†æ˜¯æœ€è¿‘å·¥ä½œçš„ä¸­å¿ƒã€‚  
é”™è¯¯æŠ¥å‘Šå’ŒåŠŸèƒ½è¯·æ±‚ä»å¯ç›´æ¥å‘åˆ°è¿™ä¸ªå­˜å‚¨åº“çš„ Issue é‡Œé¢ã€‚  
æ›´å¤šå·¥ä½œè¯¦è§[TODOåˆ—è¡¨](docs/TODO.md)ã€‚

## è‡´è°¢

- [dirent](https://github.com/tronkko/dirent)ï¼šå¯¹ Windows çš„ Unix `dirent` é€‚é…
    > åœ¨è¿™é‡Œå¯¹ç¬¦å·é“¾æ¥å’Œï¼ˆä¼ªé€ çš„ï¼‰è®¾å¤‡ã€å¥—æ¥å­—æ”¯æŒè¿›è¡Œäº†å¤§é‡ä¿®æ”¹ï¼Œ
    > å› æ­¤å®ƒç›´æ¥æ”¾åœ¨æºä»£ç ä¸­è€Œä¸æ˜¯å­æ¨¡å—ä¸­ã€‚
- [PCRE2](https://github.com/PCRE2Project/pcre2) æ­£åˆ™è¡¨è¾¾å¼
- [rapidfuzz-cpp](https://github.com/maxbachmann/rapidfuzz-cpp):
     **ä»…æ ‡å¤´**çš„æ¨¡ç³Šå­—ç¬¦ä¸²åŒ¹é…åº“
